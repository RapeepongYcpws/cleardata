{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from \"@angular/core\";\nlet AppComponent = class AppComponent {\n  constructor() {\n    this.rowList = [];\n    this.sqlTextOpenAccount = \"\";\n    this.sqlTextRegistration = \"\";\n    this.sqlTextProfiles = \"\";\n    this.sqlTextDeposits = \"\";\n    this.inp = \"\";\n  }\n  ngOnInit() {\n    // this.addRow(\"\", \"\", \"\");\n  }\n  addRow(dvId, cId, mb) {\n    var row = {\n      dvId: dvId.trim(),\n      cId: cId.trim(),\n      mb: mb.trim()\n    };\n    this.rowList = [...this.rowList, row];\n    console.log(this.rowList);\n    this.dvId.nativeElement.value = \"\";\n    this.cId.nativeElement.value = \"\";\n    this.mb.nativeElement.value = \"\";\n  }\n  deleteItem(index) {\n    console.log(\"DELETE ITEM \", index);\n  }\n  clearAll() {\n    this.rowList = [];\n    this.dvId.nativeElement.value = \"\";\n    this.cId.nativeElement.value = \"\";\n    this.mb.nativeElement.value = \"\";\n    this.clearSql();\n  }\n  clearSql() {\n    console.log(\"CLEAR SQL START\");\n    this.sqlTextOpenAccount = \"\";\n    this.sqlTextRegistration = \"\";\n    this.sqlTextProfiles = \"\";\n    this.sqlTextDeposits = \"\";\n  }\n  generate() {\n    console.log(\"HELLO123123123123\", this.rowList);\n    if (this.rowList.length == 0) {\n      if (this.dvId.nativeElement.value != \"\" || this.cId.nativeElement.value != \"\" || this.mb.nativeElement.value != \"\") {\n        this.clearSql();\n        this.result(this.dvId.nativeElement.value, this.cId.nativeElement.value, this.mb.nativeElement.value);\n      }\n    } else {\n      this.clearSql();\n      for (let i in this.rowList) {\n        var data = this.rowList[i];\n        this.result(data.dvId, data.cId, data.mb);\n        this.sqlTextOpenAccount += \"\\n\";\n        this.sqlTextRegistration += \"\\n\";\n        this.sqlTextProfiles += \"\\n\";\n        this.sqlTextDeposits += \"\\n\";\n      }\n    }\n  }\n  result(dvId, cid, mb) {\n    if (dvId != \"\") {\n      this.sqlTextOpenAccount += `delete from tbl_staged_open_account where lower(device_id) = '${dvId}';` + \"\\n\";\n      this.sqlTextRegistration += `delete from tbl_staged_registration where lower(device_id) = '${dvId}';` + \"\\n\";\n      this.sqlTextProfiles += `delete from tbl_device_profile where lower(device_id) = '${dvId}';\ndelete from tbl_user_ekyc where lower(device_id) = '${dvId}';\nDELETE FROM tbl_user_preference WHERE lower(user_ref_id) = '${dvId}';\nDELETE FROM tbl_profile_transaction_limit WHERE lower(user_ref_id) = '${dvId}';\nDELETE FROM tbl_quick_link_favorite WHERE lower(user_ref_id) = '${dvId}';\nDELETE FROM tbl_user_quick_actions WHERE lower(user_ref_id) = '${dvId}';` + \"\\n\";\n      this.sqlTextDeposits += `DELETE FROM tbl_deposit_profile WHERE lower(user_ref_id) = '${dvId}';` + \"\\n\";\n    }\n    if (cid != \"\") {\n      this.sqlTextOpenAccount += `delete from tbl_open_account_face_verification_fail_attempt where cid = '${cid}';\ndelete from tbl_open_account_rp_attempt where cid = '${cid}';\ndelete from tbl_open_account_rp_request_info where id_card_number='${cid}';` + \"\\n\";\n      this.sqlTextRegistration += `delete from tbl_staged_registration where cid = '${cid}';` + \"\\n\";\n    }\n    if (mb != \"\") {\n      this.sqlTextOpenAccount += `delete from tbl_open_account_dopa_attempt where mobile_no = '${mb}';\ndelete from tbl_staged_open_account where mobile_no = '${mb}';` + \"\\n\";\n    }\n  }\n};\n__decorate([ViewChild(\"dvId\")], AppComponent.prototype, \"dvId\", void 0);\n__decorate([ViewChild(\"cId\")], AppComponent.prototype, \"cId\", void 0);\n__decorate([ViewChild(\"mb\")], AppComponent.prototype, \"mb\", void 0);\nAppComponent = __decorate([Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.css\"]\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"mappings":"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","names":["Component","ViewChild","AppComponent","constructor","ngOnInit","addRow","dvId","cId","mb","row","trim","rowList","console","log","nativeElement","value","deleteItem","index","clearAll","clearSql","sqlTextOpenAccount","sqlTextRegistration","sqlTextProfiles","sqlTextDeposits","generate","length","result","i","data","cid","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/r.yoochaipatvasin/Documents/KTB/Repositories/angular/cleardata/src/app/app.component.ts"],"sourcesContent":["import { Component, ElementRef, ViewChild } from \"@angular/core\";\n\n@Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.css\"],\n})\nexport class AppComponent {\n  @ViewChild(\"dvId\") dvId: ElementRef | any;\n  @ViewChild(\"cId\") cId: ElementRef | any;\n  @ViewChild(\"mb\") mb: ElementRef | any;\n  public rowList: any = [];\n  public sqlTextOpenAccount = \"\";\n  public sqlTextRegistration = \"\";\n  public sqlTextProfiles = \"\";\n  public sqlTextDeposits = \"\";\n  public inp = \"\";\n\n  ngOnInit() {\n    // this.addRow(\"\", \"\", \"\");\n  }\n  addRow(dvId: string, cId: string, mb: string) {\n    var row = { dvId: dvId.trim(), cId: cId.trim(), mb: mb.trim() };\n    this.rowList = [...this.rowList, row];\n    console.log(this.rowList);\n    this.dvId.nativeElement.value = \"\";\n    this.cId.nativeElement.value = \"\";\n    this.mb.nativeElement.value = \"\";\n  }\n  deleteItem(index:string){\nconsole.log(\"DELETE ITEM \", index)\n  }\n  clearAll(){\n    this.rowList = [];\n    this.dvId.nativeElement.value = \"\";\n    this.cId.nativeElement.value = \"\";\n    this.mb.nativeElement.value = \"\";\n    this.clearSql();\n\n  }\n  clearSql(){\n    console.log(\"CLEAR SQL START\")\n    this.sqlTextOpenAccount = \"\";\n    this.sqlTextRegistration = \"\";\n    this.sqlTextProfiles = \"\";\n    this.sqlTextDeposits = \"\";\n  }\n\n  generate() {\n    console.log(\"HELLO123123123123\", this.rowList);\n\n    if (this.rowList.length == 0) {\n      if (\n        this.dvId.nativeElement.value != \"\" ||\n        this.cId.nativeElement.value != \"\" ||\n        this.mb.nativeElement.value != \"\"\n      ) {\n        this.clearSql();\n        this.result(\n          this.dvId.nativeElement.value,\n          this.cId.nativeElement.value,\n          this.mb.nativeElement.value\n        );\n      }\n    } else {\n      this.clearSql();\n      for (let i in this.rowList) {\n        var data = this.rowList[i];\n        this.result(data.dvId, data.cId, data.mb);\n        this.sqlTextOpenAccount += \"\\n\";\n        this.sqlTextRegistration += \"\\n\";\n        this.sqlTextProfiles += \"\\n\";\n        this.sqlTextDeposits += \"\\n\";\n      }\n    }\n  }\n  result(dvId: string, cid: string, mb: string) {\n    if (dvId != \"\") {\n      this.sqlTextOpenAccount +=\n        `delete from tbl_staged_open_account where lower(device_id) = '${dvId}';` +\n        \"\\n\";\n\n      this.sqlTextRegistration +=\n        `delete from tbl_staged_registration where lower(device_id) = '${dvId}';` +\n        \"\\n\";\n\n      this.sqlTextProfiles +=\n        `delete from tbl_device_profile where lower(device_id) = '${dvId}';\ndelete from tbl_user_ekyc where lower(device_id) = '${dvId}';\nDELETE FROM tbl_user_preference WHERE lower(user_ref_id) = '${dvId}';\nDELETE FROM tbl_profile_transaction_limit WHERE lower(user_ref_id) = '${dvId}';\nDELETE FROM tbl_quick_link_favorite WHERE lower(user_ref_id) = '${dvId}';\nDELETE FROM tbl_user_quick_actions WHERE lower(user_ref_id) = '${dvId}';` +\n        \"\\n\";\n\n      this.sqlTextDeposits +=\n        `DELETE FROM tbl_deposit_profile WHERE lower(user_ref_id) = '${dvId}';` +\n        \"\\n\";\n    }\n\n    if (cid != \"\") {\n      this.sqlTextOpenAccount +=\n        `delete from tbl_open_account_face_verification_fail_attempt where cid = '${cid}';\ndelete from tbl_open_account_rp_attempt where cid = '${cid}';\ndelete from tbl_open_account_rp_request_info where id_card_number='${cid}';` +\n        \"\\n\";\n\n      this.sqlTextRegistration +=\n        `delete from tbl_staged_registration where cid = '${cid}';` + \"\\n\";\n    }\n\n\n    if(mb != \"\"){\n      this.sqlTextOpenAccount += `delete from tbl_open_account_dopa_attempt where mobile_no = '${mb}';\ndelete from tbl_staged_open_account where mobile_no = '${mb}';`+ \"\\n\";\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}